<!doctype html>
<html lang="en">

<head>
	<title>Tables | Klorofil - Free Bootstrap Dashboard Template</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<!-- VENDOR CSS -->
	<link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/vendor/dataTables/jquery.dataTables.min.css">
	<link rel="stylesheet" href="assets/vendor/linearicons/style.css">
	<!-- MAIN CSS -->
	<link rel="stylesheet" href="assets/css/main.css">
	<!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
	<link rel="stylesheet" href="assets/css/demo.css">
	<!-- GOOGLE FONTS -->
	<!--<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">-->
	<!-- ICONS -->
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
</head>

<body>
	<!-- WRAPPER -->
	<div id="wrapper">
		<!-- NAVBAR -->
		<nav class="navbar navbar-default navbar-fixed-top">
			<h1 class="header_1">
				鑫洋泉运营系统
			</h1>
		</nav>
		<!-- END NAVBAR -->
		<!-- LEFT SIDEBAR -->
		<div id="sidebar-nav" class="sidebar">
			<div class="sidebar-scroll">
				<nav>
					<ul class="nav">
						<li><a href="index.html" class=""><i class="lnr lnr-home"></i> <span>首页</span></a></li>
                        <li><a href="device.html" class=""><i class="lnr lnr-chart-bars"></i> <span>设备</span></a></li>
                        <li><a href="custom.html" class="active"><i class="lnr lnr-chart-bars"></i> <span>客户信息</span></a></li>
                        <li><a href="cards.html" class=""><i class="lnr lnr-chart-bars"></i> <span>卡信息</span></a></li>
                        <!--<li><a href="device_detail.html" class=""><i class="lnr lnr-cog"></i> <span>设备详情</span></a></li>-->
                    </ul>
				</nav>
			</div>
		</div>
		<!-- END LEFT SIDEBAR -->
		<!-- MAIN -->
		<div class="main">
			<!-- MAIN CONTENT -->
			<div class="main-content">
				<div class="container-fluid">
                    <div class="row">
                        <div class="col-md-8">
					            <h3 class="page-title ">客户列表</h3>
                        </div>
                        <div class="col-md-4">
                            <!--<form class="navbar-form navbar-right">-->
                                <form>
                                <div class="input-group">
                                    <input type="text" value="" class="form-control" placeholder="手机号">
                                    <span class="input-group-btn"><button type="button" class="btn btn-primary">查询</button></span>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="row">
                        <table id="example" class="col-md-12 display" cellspacing="0" width="100%">
                        </table>
					</div>
				</div>
			</div>
			<!-- END MAIN CONTENT -->
		</div>
		<!-- END MAIN -->
		<div class="clearfix"></div>
		<footer>
			<div class="container-fluid">
				<p class="copyright">&copy; 2017 <a href="#" target="_blank">Theme I Need</a>. All Rights Reserved. More Templates <a href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a></p>
			</div>
		</footer>
	</div>
	<!-- END WRAPPER -->
	<!-- Javascript -->
	<script src="assets/vendor/jquery/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <script src="assets/vendor/dataTables/jquery.dataTables.min.js"></script>
	<script src="assets/scripts/klorofil-common.js"></script>
    <script>
    var table = $('#example').dataTable( {
        oLanguage: {
            "sUrl": "assets/vendor/dataTables/zh_CN.json"
        },
        //左下角信息
        info: false,
        //关闭行数选择
        "lengthChange": false,
        //关闭本地搜索
        "searching": false,
        //关系列排序
         "columns": [
            // { "orderable": false },
            // { "orderable": false },
            // { "orderable": false },
            // { "orderable": false },
            // { "orderable": false },
        ],
        "columnDefs": [
            {
                "targets": [0],
                "visible": false,
                "searchable": false
            }
        ],
      length: 10,
      
        // "ajax": 'assets/device_ajax.txt'
        "ajax": 'assets/device_ajax.txt',
         "serverSide": true,//分页，取数据等等的都放到服务端去
            "deferRender": true,//当处理大数据时，延迟渲染数据，有效提高Datatables处理能力
            "destory": true,
            "ajax": {
                "dataType": 'json',
                "type": "POST",
                "url": "assets/custom_ajax.txt",
                "data": function (d) {
                    console.log(d)
                    // d.id = id;
                },
                "async": false
            },
            "columns": [
                {
                    "data": "id",
                    // "width": "100px",
                    "title": "设备号"
                }, {
                    "data": "mobile",
                    // "width": "150px",
                    "title": "手机",
                    render: function (data) {
                        return "<a href='"  + data + "'>" + data + "</a>";
                    }
                }, {
                    "data": "nickName",
                    // "width": "150px",
                    "title": "昵称"
                }, {
                    "data": "sex",
                    // "width": "100px",
                    "title": "性别"
                    // render: function (data, type, row, meta) {
                        //个人理解  --以及参数的应用场景
                        //data:当前cell的值  --主要是操作这个参数来做渲染
                        //type:数据类型,枚举类型dt内置定义的  --用处不大
                        //row:当前行的所有数据  --可以做来用级联(没办法更改其他cell的渲染)
                        //meta:它下面有三个参数
                        //   //row,col 是当前cell的横纵坐标(相对于左上角)
                        //         --可以结合上个参数row做更加复杂的级联
                        //   //settings:dt的api实例,动态所有的参数信息都在里面
                           //  --这个很强大,获取参数信息就好,新手不要随便更改里面的参数信息
                        // var node = "<label ";
                        // if (data == "男") {
                        //     node += "style='color:red;'"
                        // } else if (data == "女") {
                        //     node += "style='color:green;'"
                        // } else {
                        //     node += "style='color:#000;'"
                        // }
                        // node += ">" + data ? "" : data + "</label>"
                        // return node;
                        // return data
                    // }
                 }, {
                    "data": "birthday",
                    // "width": "150px",
                    "title": "开始日期"
                }, {
                    "data": "created",
                    // "width": "100px",
                    "title": "创建日期"
                        //render 里面想引入自定义参数信息,两种方式:
                        //一、让自定义参数的作用域大于render的作用域(全局变量、缓存等);
                        //二、修改源码(慎用)
                        //级联问题后面几期再讲,没有找到很好的素材
                        // var custom = window.sessionStorage.getItem("custom");//这里就可以获取到提前存在缓存的数据
                }
            ]
    } );
    
    </script>
</body>

</html>
